<!--*******************************************************************************
  Copyright 2018 Ellucian Company L.P. and its affiliates.
*******************************************************************************-->
<div class="proxy-page-body schedDetail awardPackage">
    <div class="proxy-header-container">
        <div class="clearfix">
            <h1 class="proxy-page-heading left proxy-tablet-visible proxy-desktop-visible">{{'proxy.awardPackage.heading'|i18n}}</h1>
            <div class="proxy-page-student-name">
                {{'proxy.message.viewingStudentInfo'|i18n:[studentName]}}
            </div>
        </div>
        <div class="select2-container proxy-top-input">
            <input name="aidyear" id="aidyear" select-box for-select='{"placeholder": "{{"proxy.selectAidYear.label"|i18n}}", "action": "Proxy/getAidYears", "model": "aidYearHolder.aidYear", "showNA": true}' type="hidden" />
        </div>
        <div ng-if="errorMsg" class="proxy-top-message-container">
            <div class="proxy-notification-icon blue">
                <span class="icon-info-CO"></span>
            </div>
            <p class="proxy-top-message proxy-notification-text">
                {{'proxy.courseDetail.message.'+ errorMsg|i18n}}
            </p>
        </div>
    </div>

    <div ng-show="aidYearHolder.aidYear.code">
        <div class="row award-info">
            <div class="col-xs-12 col-md-6">
                <div class="proxy-content-section proxy-content-item">
                    <table>
                        <caption>{{'proxy.awardPackage.needCalc'|i18n}}</caption>
                        <tbody>
                            <tr>
                                <td>{{'proxy.awardPackage.costOfAttd'|i18n}}</td>
                                <td class="currency-values">{{awardPackage.needsCalc.attendanceCost}}</td>
                            </tr>
                            <tr>
                                <td>{{'proxy.awardPackage.familyContrib'|i18n}}</td>
                                <td class="currency-values">{{awardPackage.needsCalc.familyContrib}}</td>
                            </tr>
                            <tr>
                                <td>{{'proxy.awardPackage.initialNeed'|i18n}}</td>
                                <td class="currency-values">{{awardPackage.needsCalc.initialNeed}}</td>
                            </tr>
                            <tr>
                                <td>{{'proxy.awardPackage.outsideResrc'|i18n}}</td>
                                <td class="currency-values">{{awardPackage.needsCalc.outsideResrc}}</td>
                            </tr>
                            <tr>
                                <th>{{'proxy.awardPackage.need'|i18n}}</th>
                                <td class="currency-values currency-totals">{{awardPackage.needsCalc.need}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="col-xs-12 col-md-6">
                <div class="proxy-content-section proxy-content-item">
                    <table>
                        <caption>{{'proxy.awardPackage.costOfAttd'|i18n}}</caption>
                        <tbody>
                            <tr ng-repeat="budget in awardPackage.costOfAttendance.budgets">
                                <td>{{budget.desc}}</td>
                                <td class="currency-values">{{budget.amount}}</td>
                            </tr>
                            <tr>
                                <th>{{'proxy.awardPackage.total'|i18n}}</th>
                                <td class="currency-values currency-totals">{{awardPackage.costOfAttendance.totalTxt}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="clearfix"></div>
            <div class="col-xs-12 col-md-6">
                <div class="proxy-content-section proxy-content-item">
                    <table>
                        <caption>{{'proxy.awardPackage.cumLoanInfo'|i18n:[now()]}}</caption>
                        <tbody>
                            <tr>
                                <td>{{'proxy.awardPackage.subsidized'|i18n}}</td>
                                <td class="currency-values">{{awardPackage.loanInfo.subsidized}}</td>
                            </tr>
                            <tr>
                                <td>{{'proxy.awardPackage.unsubsidized'|i18n}}</td>
                                <td class="currency-values">{{awardPackage.loanInfo.unsubsidized}}</td>
                            </tr>
                            <tr>
                                <td>{{'proxy.awardPackage.gradPlus'|i18n}}</td>
                                <td class="currency-values">{{awardPackage.loanInfo.gradPlus}}</td>
                            </tr>
                            <tr>
                                <td>{{'proxy.awardPackage.parentPlus'|i18n}}</td>
                                <td class="currency-values">{{awardPackage.loanInfo.parentPlus}}</td>
                            </tr>
                            <tr>
                                <td>{{'proxy.awardPackage.perkins'|i18n}}</td>
                                <td class="currency-values">{{awardPackage.loanInfo.perkins}}</td>
                            </tr>
                            <tr>
                                <td>{{'proxy.awardPackage.directUnsub'|i18n}}</td>
                                <td class="currency-values">{{awardPackage.loanInfo.directUnsub}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="col-xs-12 col-md-6 row statuses">
                <div class="col-xs-12">
                    <div class="proxy-content-section proxy-content-item">
                        <div class="status-container">
                            <h2>{{'proxy.awardPackage.enrollStatus'|i18n}}</h2>
                            <div ng-if="awardPackage.enrollment.fStatus">
                                <p ng-if="awardPackage.enrollment.fStatus.status" class="status-desc">
                                    {{awardPackage.enrollment.fStatus.status}}
                                </p>
                                <p ng-if="awardPackage.enrollment.fStatus.dfltOption" class="status-desc">
                                    {{getStatusTextNonPell(awardPackage.enrollment.fStatus.dfltOption)}}
                                </p>
                            </div>
                            <div ng-if="awardPackage.enrollment.tStatus">
                                <p class="status-desc">
                                    <span ng-repeat="status in awardPackage.enrollment.tStatus.statuses">{{status}}</span>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-xs-12">
                    <div class="proxy-content-section proxy-content-item">
                        <div class="status-container">
                            <h2>{{'proxy.awardPackage.housingStatus'|i18n}}</h2>
                            <p class="status-desc">
                                <span ng-repeat="status in awardPackage.housingStatuses.rows">{{status}}</span>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div>
            <div ng-repeat="award in awardPackage.awardInfo.aidYearAwards.aidAwards" class="year-award-container">
                <h2 ng-if="$first">{{'proxy.awardPackage.aidAward'|i18n:[awardPackage.aidYearDesc]}}</h2>
                <table class="proxy-content-section proxy-content-item">
                    <caption class="year-award-fund">{{'proxy.awardPackage.fund'|i18n}}<p>{{award.fundTitle}}</p></caption>
                    <tbody>
                        <tr>
                            <th>{{'proxy.awardPackage.status'|i18n}}</th>
                            <td class="currency-values">{{award.status}}</td>
                        </tr>
                        <tr>
                            <th>{{'proxy.awardPackage.offered'|i18n}}</th>
                            <td class="currency-values">{{award.offerAmt}}</td>
                        </tr>
                        <tr>
                            <th>{{'proxy.awardPackage.accepted'|i18n}}</th>
                            <td class="currency-values">{{award.acceptAmt}}</td>
                        </tr>
                        <tr>
                            <th>{{'proxy.awardPackage.declined'|i18n}}</th>
                            <td class="currency-values">{{award.declineAmt}}</td>
                        </tr>
                        <tr>
                            <th>{{'proxy.awardPackage.cancelled'|i18n}}</th>
                            <td class="currency-values">{{award.cancelAmt}}</td>
                        </tr>
                        <tr>
                            <th>{{'proxy.awardPackage.total'|i18n}}</th>
                            <td class="currency-values currency-totals">{{award.amount}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div>
            <h2 class="period-award-title">{{'proxy.awardPackage.aidAwardTerm'|i18n:[awardPackage.aidYearDesc]}}</h2>
            <div ng-repeat="period in awardPackage.periodInfo.periods" class="period">
                <h3>
                    <a href="" data-toggle="collapse" data-target="#period{{$index}}" class="panel-title">
                        {{period.termDesc}}
                        <span class="icon-collapseArrow"></span>
                    </a>
                </h3>
                <div class="collapse in" id="period{{$index}}">
                    <div ng-repeat="periodAward in period.periodAwards"  class="period-fund-container">
                        <table class="proxy-content-section proxy-content-item">
                            <caption class="year-award-fund">
                                {{'proxy.awardPackage.fund'|i18n}}<p>{{periodAward.fundTitle}}</p>
                            </caption>
                            <tbody>
                                <!-- <tr> year-award-container
                                    <th>{{'proxy.awardPackage.status'|i18n}}</th>
                                    <td class="currency-values">{{periodAward.status}}</td>
                                </tr>
                                <tr>
                                    <th>{{'proxy.awardPackage.amount'|i18n}}</th>
                                    <td class="currency-values">{{periodAward.amount}}</td>
                                </tr> {{'proxy.awardPackage.amount'|i18n}} -->
                                <tr>
                                    <td class="bold-font">
                                        {{'proxy.awardPackage.status'|i18n}}
                                        <p class="term-fund">{{periodAward.status}}</p>
                                    </td>
                                    <td class="currency-values"><p class="term-fund">{{periodAward.amount}}</p></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <table class="proxy-content-section period-fund-container">
                    <tbody>
                    <tr>
                        <th>{{'proxy.awardPackage.total'|i18n}}</th>
                        <td class="currency-values currency-totals">{{period.totalTxt}}</td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <div>
                <h3>
                    <a href="" data-toggle="collapse" data-target="#fundTotals" class="panel-title">
                        {{'proxy.awardPackage.totals'|i18n}}
                        <span class="icon-collapseArrow"></span>
                    </a>
                </h3>
                <div class="collapse in period-fund-container" id="fundTotals">
                    <table class="proxy-content-section proxy-content-item">
                        <thead>
                            <th>{{'proxy.awardPackage.fund'|i18n}}</th>
                            <th>{{'proxy.awardPackage.total'|i18n}}</th>
                        </thead>
                        <tbody>
                            <tr ng-repeat="fund in getFundList()">
                                <td>{{fund}}</td>
                                <td class="currency-values">{{awardPackage.periodInfo.fundTotals[fund]}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <table class="proxy-content-section period-fund-container">
                    <tbody>
                        <tr>
                            <th>{{'proxy.awardPackage.grandTotal'|i18n}}</th>
                            <td class="currency-values currency-totals">{{awardPackage.periodInfo.grandTotal}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
<!--
        <div>
            <table>
                <caption><h3>Aid Award for {{awardPackage.aidYearDesc}}</h3></caption>
                <tbody>
                    <tr>
                        <th>Fund</th>
                        <th>Status</th>
                        <th>Offered</th>
                        <th>Accepted</th>
                        <th>Declined</th>
                        <th>Cancelled</th>
                        <th>Total</th>
                    </tr>
                    <tr ng-repeat="award in awardPackage.awardInfo.aidYearAwards.aidAwards">
                        <td>{{award.fundTitle}}</td>
                        <td>{{award.status}}</td>
                        <td>{{award.offerAmt}}</td>
                        <td>{{award.acceptAmt}}</td>
                        <td>{{award.declineAmt}}</td>
                        <td>{{award.cancelAmt}}</td>
                        <td>{{award.amount}}</td>
                    </tr>
                    <tr>
                        <td>Total</td>
                        <td></td>
                        <td>{{awardPackage.awardInfo.aidYearAwards.totalOfferAmtTxt}}</td>
                        <td>{{awardPackage.awardInfo.aidYearAwards.totalAcceptAmtTxt}}</td>
                        <td>{{awardPackage.awardInfo.aidYearAwards.totalDeclineAmtTxt}}</td>
                        <td>{{awardPackage.awardInfo.aidYearAwards.totalCancelAmtTxt}}</td>
                        <td>{{awardPackage.awardInfo.aidYearAwards.totalAmtTxt}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div>
            <table>
                <caption><h3>Aid Award by Term {{awardPackage.awardInfo.aidYearAwards.aidYrTitle}}</h3></caption>
                <tbody>
                    <tr ng-repeat-start="period in awardPackage.periodInfo.periods">
                        <th></th>
                        <th></th>
                        <th>{{period.termDesc}}</th>
                    </tr>
                    <tr>
                        <th>Fund</th>
                        <th>Status</th>
                        <th>Amount</th>
                    </tr>
                    <tr ng-repeat="periodAward in period.periodAwards">
                        <td>{{periodAward.fundTitle}}</td>
                        <td>{{periodAward.status}}</td>
                        <td>{{periodAward.amount}}</td>
                    </tr>
                    <tr ng-repeat-end>
                        <td>Totals</td>
                        <td></td>
                        <td>{{period.totalTxt}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
-->
    </div>
</div>